(()=>{"use strict";let e=-1;class t{constructor(e,t){this.ele=e,this._settings={byJson:{data:null,selectedIndex:0,name:null,size:0,multiple:!1,width:250},mainCSS:"ms-dd pr",rowHeight:null,visibleRows:null,showIcon:!0,zIndex:9999,event:"click",style:"",childWidth:null,childHeight:null,enableCheckbox:!1,checkboxNameSuffix:"_mscheck",append:null,prepend:null,showPlusItemCounter:!0,enableAutoFilter:!0,showListCounter:!1,on:{create:null,open:null,close:null,add:null,remove:null,change:null,blur:null,click:null,dblclick:null,mousemove:null,mouseover:null,mouseout:null,focus:null,mousedown:null,mouseup:null},...t},this._css={},this._onDocumentClick=null,this._onDocumentKeyDown=null,this._onDocumentKeyUp=null,this._isOpen=!1,this._DOWN_ARROW=40,this._UP_ARROW=38,this._LEFT_ARROW=37,this._RIGHT_ARROW=39,this._ESCAPE=27,this._ENTER=13,this._ALPHABETS_START=47,this._SHIFT=16,this._CONTROL=17,this._MAC_CONTROL=91,this._BACKSPACE=8,this._DELETE=46,this._shiftHolded=!1,this._controlHolded=!1,this._isFirstTime=!0,this._cacheEle={},this._isMouseDown=!1,this._itemsArr=[],this._css={dd:this._settings.mainCSS,wrapperDisabled:"disabled",headerA:"ms-list-option option-selected",header:"ms-dd-header",arrow:"ms-dd-arrow",arrowDown:"ms-dd-pointer-down",arrowUp:"ms-dd-pointer-up",headerCounter:"ms-header-counter",listOfItems:"ms-options",item:"ms-list-option",itemSpan:"ms-middle",itemSpanOpt:"ms-optgroup-padding",itemLabel:"ms-dd-label",itemImage:"ms-dd-option-image",itemDesc:"ms-dd-desc",spanLabel:"ms-dd-label",itemSelected:"option-selected",itemDisabled:"disabled",itemEnabled:"enabled",optgroup:"ms-optgroup"},this._wrapper={},this._createByJson(),this._checkDataSettings(),this._isList=this.ele.size>1||1==this.ele.multiple,(this._isList||!0===this._settings.enableCheckbox)&&(this._isMultiple=this.ele.multiple=!0),this._init()}_init(){this._makeLayout(),this._updateUiAndValueByIndex(this.selectedIndex),this.ele.size>1&&(this._makeUiAsList(!0,this.ele.size),this._scrollToItem()),null!==this._settings.childWidth&&(this._wrapper.listOfItems.style.width=this._settings.childWidth),this._showHideOriginal(!1)}_showHideOriginal(e=!0){e?this._show(this.ele):this._hide(this.ele)}_checkDataSettings(){let e=this._getDataSet(this.ele),t=this._settings;t.mainCSS=e.maincss||t.mainCSS,t.showIcon=e.showicon||t.showIcon,t.event=e.event||t.event,t.jsonTitle=e.jsontitle||t.jsonTitle,t.childWidth=e.childwidth||t.childWidth,t.childHeight=e.childheight||t.childHeight,t.enableCheckbox=e.enablecheckbox||t.enableCheckbox,t.checkboxNameSuffix=e.checkboxnamesuffix||t.checkboxNameSuffix,t.append=e.append||t.append,t.prepend=e.prepend||t.prepend,t.enableAutoFilter=e.enableautofilter||t.enableAutoFilter,t.visibleRows=e.visiblerows||t.visibleRows,t.showPlusItemCounter=e.showplusitemcounter||t.showPlusItemCounter,t.enableAutoFilter="true"===t.enableAutoFilter.toString(),t.showPlusItemCounter="true"===t.showPlusItemCounter.toString(),t.enableCheckbox="true"===t.enableCheckbox.toString(),t.showIcon="true"===t.showIcon.toString(),this._settings={...this._settings,...t}}_createByJson(){if(this._settings.byJson.data)try{let e=this._settings.byJson,t={};t.name=e.name||this.ele.id||"",e.size>0&&(t.size=e.size),e.multiple&&(t.multiple=e.multiple);let s=this._createEle("select",t),i=e.data.length;for(let t=0;t<i;t++){let i=e.data[t],l=new Option(i.text,i.value);for(let e in i)if(i.hasOwnProperty(e)&&"text"!==e.toLowerCase()){let t=`data-${e}`;l.setAttribute(t,i[e])}s.options[t]=l}this.ele.appendChild(s),s.selectedIndex=e.selectedIndex,e.width&&(this.ele.style.width=e.width+"px"),this.ele=s}catch(e){throw"There is an error in json data."}}_scrollToItem(e,t="smooth"){(e=e||this.uiData.ui)&&(e=e.length>1?e[0]:e,this._scrollToIfNeeded(e))}_showHideFilterBox(e=!0){e?(this._show(this._wrapper.filterHolder),this._wrapper.filterInput.focus(),this._hide(this._wrapper.headerA)):(this._wrapper.filterInput.value="",this._hide(this._wrapper.filterHolder),this._show(this._wrapper.headerA))}_applyFilters(e){let t=this._wrapper.filterInput.value;if(0===t.length)this._show(this._wrapper.headerA),this._makeChildren();else{this._hide(this._wrapper.headerA);let e=[...this.options].filter((function(e){return!1===e.disabled&&e.text.toLowerCase().indexOf(t.toLowerCase())>=0}));this._makeChildren(e)}}_makeFilterBox(){let e=this._createEle("div",{className:"ms-filter-box"}),t=this._createEle("input",{name:"_text_filter"});return e.appendChild(t),this._wrapper.filterInput=t,this._wrapper.filterHolder=e,this._bindEvents(t,"keyup",(e=>{(e.keyCode>=this._ALPHABETS_START||e.keyCode===this._BACKSPACE||e.keyCode===this._DELETE)&&(this._applyFilters(e),e.preventDefault(),e.stopPropagation())})),e}_makeHeader(){let e=this._css,t=this._createEle("div",{className:e.header}),s=this._createEle("a",{className:e.headerA}),i=this._createEle("span",{className:e.arrow+" "+e.arrowDown});return t.appendChild(s),t.appendChild(i),this._wrapper.header=t,this._wrapper.headerA=s,this._wrapper.arrow=i,t}_makeChildren(e=null){let t,s=this._css,i="true"===this._settings.enableCheckbox.toString(),l=this,n=function(e,t){let n={};return n=l._parseOption(e),{opt:n,itemObj:{label:{text:n.text,css:s.itemLabel},img:{src:n.image,css:s.itemImage},desc:{text:n.description,css:s.itemDesc},isDisabled:e.disabled||!1,isSelected:e.selected||!1,isCheckbox:i,value:n.value,title:n.title,imageCss:`${n.imagecss} ${n.className}`,counter:t+1,isOptGroup:"OPTGROUP"===e.nodeName}}},r=function(e,t){t.isDisabled||(l._bindEvents(e,"mouseup",(e=>{l._isMouseDown=!1,i&&"INPUT"===e.target.nodeName||l._isList||l.close(e)})),l._bindEvents(e,"mousedown",(t=>{if(l._isMouseDown=!0,i&&"INPUT"===t.target.nodeName)l._setSelectedByItemToggle(e._refCheckbox,e);else if(l._shiftHolded&&l._isMultiple){let t=l.selectedIndex,s=e.index;l._setSelectedByIndexFromTo(t,s)}else l._controlHolded&&l._isMultiple?l._setSelectedByItem(e,!1,!1):l._setSelectedByItem(e)})),l._bindEvents(e,"mouseover",(t=>{l._isMouseDown&&l._isMultiple&&l._setSelectedByItem(e,!1,!1)})))};this._wrapper.listOfItems?t=this._wrapper.listOfItems:(t=this._createEle("ul",{className:s.listOfItems,zIndex:this._settings.zIndex}),this._wrapper.listOfItems=t),t.innerHTML="";let h=null===e?this.ele.children:e,d=h.length;for(let e=0;e<d;e++){let s=h[e],i=n(s,e),l=i.opt,d=i.itemObj,a=this._createRow(d);if(""!==l.className&&(a.className=a.className+" "+l.className),""!==l.internalStyle&&(a.style=l.internalStyle),a.index=l.index,d.isOptGroup){let e=s.children,t=e.length,i=this._createEle("ul");for(let s=0;s<t;s++){let t=n(e[s],s),l=t.opt,h=t.itemObj,d=this._createRow(h);""!==l.className&&(d.className=d.className+" "+l.className),""!==l.internalStyle&&(d.style=l.internalStyle),d.index=l.index,r(d,h),i.appendChild(d)}a.appendChild(i)}d.isOptGroup||r(a,d),t.appendChild(a),d.isSelected&&this._setSelectedByItem(a,!0)}return null!==this._settings.childHeight&&(t.style.maxHeight=this._settings.childHeight+"px"),t}_makeLayout(){e=0===this.ele.tabIndex?e+1:this.ele.tabIndex+1,this.ele.tabIndex=-1;let t=this._css,s=this._createEle("div",{tabIndex:e,className:t.dd}),i=this._makeHeader(),l=this._makeFilterBox();i.appendChild(l),this._showHideFilterBox(!1);let n=this._createEle("div",{className:"ms-options"}),r=this._makeChildren();s.appendChild(i),s.appendChild(r),s.appendChild(n),this._wrapper.holder=s,this._insertAfter(s,this.ele),this._hide(r),this._bindEvents(i,this._settings.event,(()=>{this.open()})),this.disabled&&s.classList.add(t.wrapperDisabled);let h=this._getInternalStyle(this.ele);s.setAttribute("style",h);let d=this._createEle("div",{style:"clear:both"});return s.appendChild(d),this._bindEvents(this._wrapper.holder,"focus",(e=>{this._isList&&this._bindDocumentEvents(null,!1,!0)})),this._bindEvents(this._wrapper.holder,"blur",(e=>{this._isList&&this._unbindDocumentEvents()})),s}_createRow(e,t=!1){e.label,e.desc,e.imgSrc;let s=e.isOptGroup?this._css.optgroup:this._css.item,i=this._createEle("li",{className:s});if(e.isCheckbox&&!e.isOptGroup){let t=this._createEle("input",{type:"checkbox",disabled:e.isDisabled,checked:!1,value:e.value,name:this.name+this._settings.checkboxNameSuffix+"[]"});i.appendChild(t),i._refCheckbox=t}let l=e.isOptGroup?" "+this._css.itemSpanOpt:"",n=this._createEle("span",{className:this._css.itemSpan+l}),r=!0===this._settings.showListCounter?`<span class='ms-list-counter'>${e.counter}</span> ${e.label.text}`:e.label.text,h=this._createEle("span",{className:e.label.css},r);if(null!=e.img.src){let t=this._createEle("img",{className:e.img.css,src:e.img.src});i.appendChild(t)}if(null===e.img.src&&""!==e.imageCss.replace(/\s/g,"")){let t=this._createEle("span",{className:e.img.css+" "+e.imageCss},"&nbsp;");i.appendChild(t)}if(n.appendChild(h),i.appendChild(n),null!=e.desc.text){let t=this._createEle("span",{className:e.desc.css},e.desc.text);n.appendChild(t)}return e.isDisabled?i.classList.add(this._css.itemDisabled):e.isOptGroup||i.classList.add(this._css.itemEnabled),""!==e.title&&(i.title=e.title),i}_parseOption(e){let t,s,i,l=null,n="",r="",h="",d="",a="",o="",u=-1;if(void 0!==e){let c=e.nodeName,_=e.dataset;"OPTGROUP"===c?d=e.label:(d=e.text,h=e.value||d),u=e.index,t=e.selected,s=e.disabled,a=e.className||"",n=_.title||"",r=_.description||"",l=_.image||l,o=_.imagecss||"",i=this._getInternalStyle(e)}return{image:l,title:n,description:r,value:h,text:d,className:a,imagecss:o,index:u,selected:t,disabled:s,internalStyle:i}}_removeOldSelected(){let e=this._getAllEle("ul li."+this._css.itemSelected,this._wrapper.holder);for(let t=0;t<e.length;t++)e[t].classList.remove(this._css.itemSelected),this._isMultiple&&(e[t]._refCheckbox.checked=!1)}_setSelectedByIndexFromTo(e,t){let s=Math.min(e,t),i=Math.max(e,t),l=this.optionsUI;for(let e=s;e<=i;e++)this._setSelectedByItem(l[e],!1,!1)}_setSelectedByItemToggle(e,t){let s=!e.checked,i=t.index;s?(t.classList.add(this._css.itemSelected),this.ele.options[i].selected=!0):(t.classList.remove(this._css.itemSelected),this.ele.options[i].selected=!1),this._updateUiAndValue()}_setSelectedByItem(e,t=!1,s=!0){if(t&&e)e.classList.add(this._css.itemSelected);else{let t=e.index;!0===s?(this._removeOldSelected(),this.ele.selectedIndex=t):this.ele.options[t].selected=!0,e?.classList?.add(this._css.itemSelected),this._updateUiAndValue()}this._settings.enableCheckbox&&e?._refCheckbox&&(e._refCheckbox.checked=!0)}_setSelectedByOptionItem(e){let t=e.index,s=this._getDataAndUI(t);this._setSelectedByItem(s.ui)}_updateHeaderUI(e=null,t=null){let s=null===e?this.uiData:e,i=this._isArray(s.index)?s.ui[0].innerHTML:null;if(this._settings.showPlusItemCounter&&null!==i&&(i+=`<span class="${this._css.headerCounter}">&nbsp; (+${s.ui.length-1})</span>`),this._wrapper.headerA.innerHTML=null!==t?t:i||s?.ui?.innerHTML||"&nbsp;","false"===this._settings.showIcon.toString()){let e=this._getEle("img",this._wrapper.headerA);e&&this._hide(e)}this._setTitleMinHeight(!1)}_findElementByIndexProp(e){let t=this._getAllEle("ul li",this._wrapper.holder),s=t.length;for(let i=0;i<s;i++)if(t[i].index==e)return t[i];return null}_getDataAndUI(e=null){let t,s,i,l=this.ele,n=null,r=-1,h=this,d=function(e){let t=l.options[e],s=e;return{option:t,data:h._parseOption(t),index:s,ui:h._findElementByIndexProp(s)}};if(null!==e)i=d(e),n=i.option,t=i.data,r=i.index,s=i.ui;else if(s=this._getAllEle("ul li."+this._css.itemSelected,this._wrapper.holder),s.length>1){let e=[],l=[],h=[],a=[];for(let t=0;t<s.length;t++)i=d(s[t].index),e.push(i.data),l.push(i.option),h.push(i.index),a.push(i.ui);t=e,n=l,r=h,s=a}else i=d(s[0]?.index),n=i.option||null,t=i.data||null,r=i.index||-1,s=i.ui||null;return{data:t,ui:s,index:r,option:n}}_isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)};_updateUiAndValue(e=null){let t=null===e?this.uiData:e;this._updateHeaderUI(t)}_updateUiAndValueByIndex(e){let t=this._getDataAndUI(e);this._updateHeaderUI(t)}_createEle(e,t,s){let i=document.createElement(e);if(t)for(let e in t)"style"===e?i.style.cssText=t[e]:i[e]=t[e];return s&&(i.innerHTML=s),i}_getEle(e,t=null){return null===t?document.querySelector(e):t.querySelector(e)}_getAllEle(e,t=null){return null===t?document.querySelectorAll(e):t.querySelectorAll(e)}_getInternalStyle(e){return void 0===e.style?"":e.style.cssText}_toggleShow(e){e.style.display="none"===e.style.display||""===e.style.display?"inherit":"none"}_show(e){e.style.display="inherit"}_hide(e){e.style.display="none"}_insertAfter(e,t){return t.parentNode.insertBefore(e,t.nextSibling)}_insertBefore(e,t){return t.insertBefore(e,t)}_getIndex(e){return[...this._getAllEle("ul li",this._wrapper.holder)].indexOf(e)}_getProp(e,t){let s={};for(let i=0;i<e.attributes.length;i++){let l=e.attributes[i].nodeName,n=e.attributes[i].nodeValue;if(t==l)return n;s[l]=n}return void 0===t?s:null}_getDataSet(e,t=null){return null===t?e.dataset:e.dataset[t]||null}_bindEvents(e,t,s){e.addEventListener(t,s)}_unbindEvents(e,t,s){e.removeEventListener(t,s)}_adjustChildHeight(e=null){if(null!==(e=null===e?parseInt(this._settings.visibleRows):e)){let t=this._getEle("li",this._wrapper.listOfItems),s=null!==this._settings.rowHeight?this._settings.rowHeight:t.clientHeight;this._wrapper.listOfItems.style.height=e*s+"px"}}_setTitleMinHeight(e=!0){let t=0;if(!0===e){let e=this._getAllEle("li",this._wrapper.listOfItems),s=e.length;for(let i=0;i<s;i++){let s=e[i];t=s.clientHeight>t?s.clientHeight:t}}else t=this._wrapper.headerA.clientHeight;this._wrapper.header.style.minHeight=t+"px"}_makeUiAsList(e,t){!0===e?(this._hide(this._wrapper.header),this.open(null,!0),this._adjustChildHeight(t),this._wrapper.listOfItems.style.position="relative",this._wrapper.listOfItems.style.display="inline-block"):(this._show(this._wrapper.header),this._wrapper.listOfItems.style.height=null,this._wrapper.listOfItems.style.position="absolute",this.close(null))}_bindDocumentEvents(e,t=!0,s=!0){this._unbindDocumentEvents(),this._onDocumentClick=e=>{let t=this._wrapper.listOfItems.getBoundingClientRect(),s=this._wrapper.header.getBoundingClientRect(),i=t.left+t.width,l=s.top+t.height+s.height;(e.clientX<t.left||e.clientX>i||e.clientY<s.y||e.clientY>l)&&this.close(e)},this._onDocumentKeyDown=e=>{switch(e.keyCode){case this._DOWN_ARROW:case this._RIGHT_ARROW:e.preventDefault(),e.stopPropagation(),this._show(this._wrapper.listOfItems),this._isOpen=!0,this.next();break;case this._UP_ARROW:case this._LEFT_ARROW:e.preventDefault(),e.stopPropagation(),this.previous();break;case this._ESCAPE:case this._ENTER:e.preventDefault(),e.stopPropagation(),this.close(null);break;case this._SHIFT:this._shiftHolded=!0;break;case this._CONTROL:case this._MAC_CONTROL:this._controlHolded=!0;break;default:e.keyCode>=this._ALPHABETS_START&&!1===this._isList&&this._showHideFilterBox(!0),this._shiftHolded=!1,this._controlHolded=!1}},this._onDocumentKeyUp=e=>{this._shiftHolded=!1,this._controlHolded=!1},!0===t&&this._bindEvents(document,"mouseup",this._onDocumentClick),!0===s&&(this._bindEvents(document,"keydown",this._onDocumentKeyDown),this._bindEvents(document,"keyup",this._onDocumentKeyUp))}_unbindDocumentEvents(){null!=this._onDocumentClick&&this._unbindEvents(document,"mouseup",this._onDocumentClick),null!=this._onDocumentKeyDown&&this._unbindEvents(document,"keydown",this._onDocumentKeyDown),null!=this._onDocumentKeyUp&&this._unbindEvents(document,"keyup",this._onDocumentKeyUp),this._onDocumentClick=null,this._onDocumentKeyDown=null,this._onDocumentKeyUp=null}_scrollToIfNeeded(e=null,t=null,s="next"){let i=this._wrapper.listOfItems;if(i.getBoundingClientRect(),null===e&&null!==t&&(i.scrollTop=t),e=void 0!==e?e:this._getEle("li."+this._css.itemSelected)){let t=e.offsetTop,l=i.clientHeight,n=e.clientHeight;t+n-i.scrollTop>l&&"next"===s?i.scrollTop=t+n-l:t-i.scrollTop<0&&"previous"===s&&(i.scrollTop=t)}}add(e,t=null){let s,i,l,n,r,h,d;e instanceof HTMLOptionElement?d=e:"string"==typeof e?(s=i=e,d=new Option(s,i)):e instanceof Object&&(s=e.text||"",i=e.value||s,l=e.title||"",n=e.image||"",h=e.imagecss||"",r=e.description||"",d=new Option(s,i),d.setAttribute("data-description",r),d.setAttribute("data-image",n),d.setAttribute("data-title",l),d.setAttribute("data-imagecss",h)),this.ele.add(d,t),this._makeChildren()}remove(e){this.ele.remove(e),this._makeChildren()}next(){let e=this.optionsUI,t=this,s=t._getAllEle(`li.${t._css.item}`,t._wrapper.listOfItems),i=s.length;if(e.length>0){let e=function(){let e=t.selectedIndex;for(;e<i;e++){let l=e+1;if(l=l>=i?i-1:l,!s[l].classList.contains(t._css.itemDisabled))return s[l]}return null}();e&&(this._setSelectedByItem(e,!1,!0),this._scrollToIfNeeded(e))}}previous(){this.optionsUI;let e=this,t=e._getAllEle(`li.${e._css.item}`,e._wrapper.listOfItems);if(t.length,t.length>0){let s=function(s){let i=e.selectedIndex;for(;i>0;i--){let s=i-1;if(s=s>=0?s:0,!t[s].classList.contains(e._css.itemDisabled))return t[s]}return null}();s&&(this._setSelectedByItem(s,!1,!0),this._scrollToIfNeeded(s,null,"previous"))}}open(e,t=!1){this.disabled||(this._isOpen?this.close(null):(this._isOpen=!0,this._show(this._wrapper.listOfItems),!1===t&&this._bindDocumentEvents(e),this._wrapper.arrow.classList.remove(this._css.arrowDown),this._wrapper.arrow.classList.add(this._css.arrowUp),this._adjustChildHeight(),this._scrollToItem()))}close(e){let t=this._isList,s=!1;if(null!==e){e.stopImmediatePropagation();let t=e.target.closest("li");s=null!=t&&t.classList.contains("disabled")}this.disabled||t||s||(this._scrollToIfNeeded(null,0),this._hide(this._wrapper.listOfItems),this._wrapper.arrow.classList.add(this._css.arrowDown),this._wrapper.arrow.classList.remove(this._css.arrowUp),this._isOpen=!1,this._isMouseDown=!1,this._shiftHolded=!1,this._controlHolded=!1,this._showHideFilterBox(!1),this._unbindDocumentEvents(),this._updateHeaderUI(),this.ele.length!==this._getAllEle(`li.${this._css.item}`,this._wrapper.listOfItems).length&&(this._makeChildren(),this._updateUiAndValue()))}namedItem(e){return this.ele.querySelector(`option[name='${e}']`)}item(e){return this.ele.options[e]}visible(e=null){if(!0===e?this._show(this._wrapper):!1===e&&this._hide(this._wrapper),null===e)return"none"===this._wrapper.style.display}showRows(e){}visibleRows(e){this.showRows(e)}on(e,t){this._bindEvents(this.ele,e,t)}off(e,t){this._unbindEvents(this.ele,e,t)}refresh(){this._makeChildren(),this._updateUiAndValue()}destroy(){this._show(this.ele),this._wrapper.holder.parentNode.removeChild(this._wrapper.holder)}get selectedIndex(){return this.ele.selectedIndex}set selectedIndex(e){this.ele.selectedIndex=e,-1===e?(this._updateHeaderUI(null,""),this._removeOldSelected()):this._setSelectedByOptionItem(this.ele.options[e])}get options(){return this.ele.options}set options(e){e instanceof HTMLOptionElement?(this.ele.add(e),this._makeChildren(),this._updateUiAndValue()):"number"==typeof e&&(this.ele.length=e,this._makeChildren(),this._updateUiAndValue())}get optionsUI(){return this._cacheEle.allItems,this._cacheEle.allItems=this._getAllEle("li",this._wrapper.listOfItems)}get length(){return this.ele.length}set length(e){this.ele.options.length=e,this._makeChildren(),this._updateUiAndValue()}get value(){return this.ele.value}set value(e){this.ele.value=e,this._updateUiAndValue()}get selectedText(){return this.selectedIndex>=0?this.ele.options[this.selectedIndex].text:""}get disabled(){return this.ele.hasAttribute("disabled")}set disabled(e){e?(this.ele.setAttribute("disabled",""),this._wrapper.holder.classList.add(this._css.wrapperDisabled)):(this.ele.removeAttribute("disabled"),this._wrapper.holder.classList.remove(this._css.wrapperDisabled))}get form(){return this.ele.form}get multiple(){return this.ele.multiple}set multiple(e){e?this.ele.setAttribute("multiple",""):(this.ele.removeAttribute("multiple"),this.size=0)}get name(){return this.ele.name||""}set name(e){this.ele.name=e}get required(){return this.ele.required}set required(e){e?this.ele.setAttribute("required",""):this.ele.removeAttribute("required")}get size(){return this.ele.size}set size(e){this.ele.size=e,this._makeUiAsList(e>1,e)}get selectedOptions(){return this.selectedIndex>=0?this.ele.options[this.selectedIndex]:null}get children(){return this.ele.children}get uiData(){return this._getDataAndUI()}get version(){return"4.0.0"}}class s{constructor(e,s){this._ddMaker=new t(e,s)}add(e,t){this._ddMaker.add(e,t)}remove(e){this._ddMaker.remove(e)}next(){this._ddMaker.next()}previous(){this._ddMaker.previous()}open(e,t=!1){this._ddMaker.open(e,t)}close(e=null){this._ddMaker.close(e)}namedItem(e){return this._ddMaker.namedItem(e)}item(e){return this._ddMaker.item(e)}visible(e=null){this._ddMaker.visible(e)}showRows(e){}visibleRows(e){this._ddMaker.showRows(e)}on(e,t){this._ddMaker._bindEvents(this.ele,e,t)}off(e,t){this._ddMaker._unbindEvents(this.ele,e,t)}get selectedIndex(){return this._ddMaker.selectedIndex}set selectedIndex(e){this._ddMaker.selectedIndex=e}get options(){return this._ddMaker.options}set options(e){this._ddMaker.options=e}get optionsUI(){return this._ddMaker.optionsUI}get length(){return this._ddMaker.length}set length(e){this._ddMaker.length=e}get value(){return this._ddMaker.value}set value(e){this._ddMaker.value=e}get selectedText(){return this._ddMaker.selectedIndex}get disabled(){return this._ddMaker.disabled}set disabled(e){this._ddMaker.disabled=e}get form(){return this._ddMaker.form}get multiple(){return this._ddMaker.multiple}set multiple(e){this._ddMaker.multiple=e}get name(){return this._ddMaker.name}set name(e){this._ddMaker.name=e}get required(){return this._ddMaker.required}set required(e){this._ddMaker.required=e}get size(){return this._ddMaker.size}set size(e){this._ddMaker.size=e}get selectedOptions(){return this._ddMaker.selectedOptions}get children(){return this._ddMaker.children}get uiData(){return this._ddMaker.uiData}updateUiAndValue(){this._ddMaker._updateUiAndValue()}refresh(){this._ddMaker.refresh()}destroy(){this._ddMaker.destroy()}get version(){return"4.0.0"}}class i extends HTMLSelectElement{constructor(e,t){super(),this.msDropdown=new s(this)}connectedCallback(){try{this.addEventListener("change",(e=>{this.multiple?this.msDropdown.refresh():this.msDropdown.selectedIndex=this.selectedIndex}))}catch(e){console.log(e.message)}}disconnectedCallback(){}adoptedCallback(){}attributeChangedCallback(e,t,s){}static get observedAttributes(){return["data-maincss","data-showicon","data-usesprite","data-event","data-jsontitle","data-childwidth","data-childheight","data-enablecheckbox","data-checkboxnamesuffix","data-append","data-prepend","data-enableautofilter","data-visiblerows"]}}customElements.define("ms-dropdown",i,{extends:"select"}),window.MsDropdown=s,function(){let e=document.querySelectorAll("select[is='ms-dropdown']"),t=e.length;for(let i=0;i<t;i++){let t=e[i];if(!t.msDropdown){let e=new s(t);t.addEventListener("change",(()=>{e.selectedIndex=this.selectedIndex})),t.msDropdown=e}}}()})();